<html>
  <head>
    <link rel="stylesheet" href="index.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <title>Countdown</title>
  </head>
  <body>
      <div class="box1">
        <div class="scritta">
          <div class="numeri">
            <div id="days"></div>
            
            <div id="hours"></div>
            
            <div id="minutes"></div>
            
            <div id="seconds"></div>

          </div>
          <div class="lettere">
            <h class="giorni">Giorni</h>
            <h class="ore">Ore</h>
            <h class="minuti">Minuti</h>
            <h class="secondi">Secondi</h>
          </div>
        </div>
        <div id="percentuale" >-</div>
        <div class="barra">
          <div class="piena"></div>
        </div>

      </div>
    

<script>
  //Giorno destinazione
  var datafinale = new Date("Aug 19, 2023 00:00:00").getTime();
  var datainiziale = new Date("Jul 29, 2023 16:00:00").getTime();

  var root = document.querySelector(':root');
  var rootStyles = getComputedStyle(root);
  var y2= rootStyles.getPropertyValue('--barrawidth');

  var x = setInterval(function(){
    var now = new Date().getTime();
    
    var distance = datafinale - now;
    perc = (Math.floor(((now-datainiziale)/(datafinale-datainiziale)*100)*100))/100;

    root.style.setProperty('--barrawidth', perc*3+'px');
    
    var days = Math.floor(distance / (1000 * 60 * 60 * 24));
    var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    var seconds = Math.floor((distance % (1000 * 60)) / 1000);

    document.getElementById("days").innerHTML = days;
    document.getElementById("hours").innerHTML = hours;
    document.getElementById("minutes").innerHTML = minutes;
    document.getElementById("seconds").innerHTML = seconds;
    document.getElementById("percentuale").innerHTML = perc+'%';


  },1000);

</script>

  </body>
</html>